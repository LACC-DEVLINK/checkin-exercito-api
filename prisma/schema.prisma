generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql" // ou "mysql", "sqlite", etc.
  url      = env("DATABASE_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  name      String
  role      UserRole @default(OPERATOR)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  deletedAt DateTime?

  @@map("users")
}

model Military {
  id              String   @id @default(uuid())
  nomeCompleto    String
  postoGrad       String
  funcao          String
  cnh             String?
  companhiaSecao  String
  veiculo         String?
  situacao        String   @default("Ativo")
  profileImage    String?
  qrCode          String   @unique
  qrCodeImage     String?  @db.Text
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  deletedAt       DateTime?

  @@map("militaries")
}

enum UserRole {
  ADMIN
  OPERATOR
  SUPERVISOR
}